{
  "id": 1112322,
  "blocks": [
    {
      "chunks": [
        {
          "zh": "golang è€é¸Ÿå¿«å¿«æ˜¾åœ£",
          "en": "Golang veterans, please show your skills quickly!"
        }
      ],
      "type": "title"
    },
    {
      "chunks": [
        {
          "zh": "## èƒŒæ™¯\r\n\r\næˆ‘æ˜¯ä»ä¸€çº¿å¼€å‘è½¬è¡Œåˆ°å›½ä¼åšä¿¡æ¯åŒ–é¡¹ç›®ç®¡ç†ï¼Œæœä¹æ™šäº”ï¼Œä¸Šç­åŸºæœ¬å°±æ˜¯æˆ‘å» ZF é‚£è¾¹æŒ¨éª‚ï¼Œç„¶åæˆ‘è½¬å¤´å»éª‚å¤–åŒ…å•†ï¼ŒåŸºæœ¬æ²¡ä»€ä¹ˆäº‹ã€‚",
          "en": "## Background\r\n\r\nI transitioned from being a frontline developer to working in a state-owned enterprise doing IT project management, 9 to 5. Basically, at work, I go to the government and get scolded, and then I turn around and scold the outsourcing vendors. There's not much else to do."
        },
        {
          "zh": "ä½†æ˜¯æˆ‘ä¸€ç›´æ”¾ä¸ä¸‹è‡ªå·±çš„æŠ€æœ¯æƒ…èŠ‚ï¼ŒJava å†™äº† 10 å¹´ä¹Ÿè…»äº†ï¼Œå°±æƒ³ç”¨ golang è‡ªå·±å†™ç‚¹ä¸œè¥¿ç©ã€‚\r\n\r\n## ç°çŠ¶\r\n\r\næˆ‘æœ€è¿‘å°è¯•ç”¨ golang å†™ä¸€äº› web å°ç©æ„å„¿ï¼Œä½†æ˜¯æˆ‘å¾ˆéš¾åœ¨ç½‘ä¸Šæ‰¾åˆ°ä¸€ä¸ªé€‚åˆå°é¡¹ç›®çš„é¡¹ç›®ç»“æ„ï¼ŒAI ç»™çš„ä¹Ÿæ˜¯å¤§å‹åŒ–çš„ç»“æ„ã€‚",
          "en": "But I can't let go of my technical passion. I'm tired of writing Java for 10 years, so I want to use golang to write something for fun.\r\n\r\n## Current Situation\r\n\r\nI recently tried using golang to write some small web gadgets, but I find it difficult to find a project structure suitable for small projects online. The structure provided by AI is also designed for large projects."
        },
        {
          "zh": "æˆ‘ç”¨ fiber å’Œ gorm ï¼Œviper åšé…ç½®æ–‡ä»¶è§£æã€‚",
          "en": "I use fiber and gorm, and viper to parse configuration files."
        },
        {
          "zh": "gorm çš„äº‹åŠ¡ç®¡ç†ä¹Ÿæ¯”è¾ƒæ‡µï¼Œæˆ‘éƒ½æ˜¯ cursor ç”Ÿæˆã€‚\r\n\r\n## è¯‰æ±‚\r\n\r\nè¯·å„ä½é’ˆå¯¹æˆ‘åªæå°ç©æ„å„¿çš„è¯‰æ±‚ï¼ŒæŒ‡ç‚¹ä¸€ä¸ª mini çš„é¡¹ç›®ç»“æ„ï¼Œæ¨èæŠ€æœ¯é€‰å‹ï¼ŒæŒ‡ç‚¹ä¸€ä¸‹ gorm çš„äº‹åŠ¡æ§åˆ¶ã€‚",
          "en": "I'm also confused about gorm's transaction management. I generate everything with cursors.\r\n\r\n## Request\r\n\r\nGiven my request to only work on small gadgets, could you please suggest a mini project structure, recommend technology choices, and provide some guidance on gorm's transaction control?"
        }
      ],
      "type": "content"
    },
    {
      "chunks": [
        {
          "zh": "@laikick golang-standards/project-layout è¿™ä¸ªæ ¹æœ¬ä¸ç®—æ˜¯å¥½çš„ç»“æ„ï¼šè€Œä¸”è¿™ä¸ª repo ä½œè€…å¯ä»¥ç®—æ˜¯ go ç¤¾åŒºé‡Œæœ€ä¸è¦è„¸çš„äº†ï¼Œæˆ‘éƒ½ä¸æ•¢ç”¨â€œæœ€ä¸è¦è„¸çš„ä¹‹ä¸€â€æ¥æè¿°ä»–ã€æ€•â€œä¹‹ä¸€â€ä¸å‡†ç¡®ï¼šhttps://github.com/golang-standards/project-layout/issues/117è¯·åšä¸ªå¥½äººï¼Œä¸è¦å†å‘åˆ«äººæ¨èè¿™ä¸ªå¸¦æ¥æ›´å¤šè¯¯å¯¼ã€‚",
          "en": "@laikick golang-standards/project-layout This is not a good structure at all. Moreover, the author of this repo can be considered the most shameless person in the Go community. I donâ€™t even dare to use â€œone of the most shamelessâ€ to describe him, for fear that â€œone ofâ€ is not accurate: https://github.com/golang-standards/project-layout/issues/117. Please be a good person and stop recommending this, it's misleading."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "> æ˜¯çš„æ˜¯çš„ å­©å­ ä½ æ˜¯å¯¹çš„@laikick å…¶å®å¦‚æœè‡ªå·±ä¸ä¼šå¥½å¥½è¯´ä¸­æ–‡çš„è¯ï¼Œå¯ä»¥å®Œå…¨å»æ··éä¸­æ–‡åœˆï¼Œçœ‹åˆ°è¿‡åˆ«äººå–·ä½ ã€è¿™ä¸æ˜¯ç³Ÿè¹‹è‡ªå·±å˜›ï¼Œä½•å¿…å‘¢",
          "en": "> Yes, yes, child, you are right @laikick. In fact, if you can't speak Chinese well, you can completely hang out in the non-Chinese speaking circle. I've seen others criticize you, isn't that just ruining yourself? Why bother?"
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "åµåŠå¤©ï¼Œå°±æ²¡äººçœ‹çœ‹å®˜æ–¹æ–‡æ¡£ï¼Ÿhttps://go.dev/doc/modules/layoutè¿˜æœ‰è¿™ä¸ª https://go.dev/doc/",
          "en": "After arguing for so long, no one looked at the official documentation? https://go.dev/doc/modules/layout and this https://go.dev/doc/"
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "æˆ‘å»ºè®®ä½ çœ‹ä¸€çœ¼ prometheus çš„æºç ï¼š https://github.com/prometheus/prometheusä¸Šé¢å“ªä¸ªé¡¹ç›®ä»£ç è´¨é‡èƒ½æ¯” prometheus å¥½ï¼Ÿ",
          "en": "I suggest you take a look at the Prometheus source code: https://github.com/prometheus/prometheus. Which of the projects above has better code quality than Prometheus?"
        },
        {
          "zh": "æ‡‚äº†ä¹ˆï¼Ÿæ ¹æ®ä½ çš„é¡¹ç›®è€Œå®šï¼Œæƒ³æ€ä¹ˆæ‘†æ€ä¹ˆæ‘†ï¼Œgo æ²¡é‚£ä¹ˆå¤šé™åˆ¶",
          "en": "Do you understand? It depends on your project, you can arrange it however you want, Go doesn't have that many restrictions."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "https://github.com/golang-standards/project-layout",
          "en": "https://github.com/golang-standards/project-layout"
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "Kratos çš„å·¥ç¨‹ç»“æ„å¯ä»¥å‚è€ƒä¸‹,è™½ç„¶æ˜¯ rpc æ¡†æ¶,ä½†æ˜¯ä½ å†™ web ä¹Ÿå¯ä»¥",
          "en": "You can refer to the Kratos project structure. Although it's an RPC framework, you can also use it for web development."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "@lesismal æ˜¯çš„æ˜¯çš„ å­©å­ ä½ æ˜¯å¯¹çš„",
          "en": "@lesismal Yes, yes, child, you are right."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "@lesismal å¥½å·§ï¼Œæˆ‘ä¹Ÿä¸å–œæ¬¢è¿™ä¸ªç›®å½•ç»“æ„@thisisgpy æˆ‘æ˜¯åŸºäºè¿™ä¸ªé¡¹ç›®æ”¹çš„ https://github.com/mikestefanello/pagoda",
          "en": "@lesismal What a coincidence, I don't like this directory structure either. @thisisgpy I based my changes on this project: https://github.com/mikestefanello/pagoda"
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "æœ‰æŠ€æœ¯æƒ…èŠ‚ï¼Œå’‹ä¸ªè¿æœ‰æ–‡æ¡£çš„ gorm äº‹åŠ¡éƒ½æä¸å®šï¼Ÿæ€ä¹ˆä¸ªäº‹å„¿",
          "en": "You have a technical passion, how come you can't even handle documented GORM transactions? What's the matter?"
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "æŠŠ gf å®˜æ–¹æ–‡æ¡£çœ‹å®Œï¼Œåªç”¨ gf ä¸€ä¸ªåº“å°±è¡Œã€‚",
          "en": "Read the gf official documentation and just use the gf library."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "åˆ«éª‚å¤–åŒ…ï¼Œå¯¹å¤–åŒ…å¥½ç‚¹",
          "en": "Don't scold the outsourcing, be nicer to them."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "å†™ go æŠŠ go å½“æˆé¢å‘è¿‡ç¨‹ï¼Œå…¨æ˜¯åœ¨è°ƒç”¨å‡½æ•° å°±æ²¡é‚£ä¹ˆå¤§è´Ÿæ‹…äº†ã€‚",
          "en": "When writing Go, treat it as procedural programming. Just calling functions, there's not so much burden then."
        },
        {
          "zh": "gorm äº‹åŠ¡ä¸æ˜¯å¾ˆç®€å•å—ã€‚è·Ÿç€æ–‡æ¡£å£°æ˜å°±å¥½äº†ã€‚",
          "en": "Isn't GORM transaction very simple? Just follow the documentation."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "å¥½å¤šè½¬ go çš„äººï¼Œä¼šæŠŠæ¯è¯­çš„æ€æƒ³å¸¦å…¥è¿›æ¥ï¼Œä¾‹å¦‚ java/php ï¼Œå°è£… go æ¡†æ¶å’Œåº“ï¼ŒåŸºæœ¬éƒ½æ˜¯å›´ç»•ä¹‹å‰æ¡†æ¶è®¾è®¡æ€æƒ³æ¥çš„ï¼Œç”¨ oop å»å†™ go ä»£ç ï¼Œè·Ÿ go è¯­è¨€è®¾è®¡æ˜¯ç›¸è¿èƒŒçš„ï¼Œå†™èµ·æ¥æ€ªæ€ªçš„ï¼Œä¸è¿‡æœ‰ä¸€ç‚¹ï¼Œé¢å‘å·¥ä½œæˆ–å·¥èµ„ç¼–ç¨‹ï¼Œè¿™ä¹ˆåšä¹Ÿæ²¡ä»€ä¹ˆä¸å¯¹çš„ğŸ˜‚ã€‚",
          "en": "Many people who switch to Go bring their native language's ideas with them, such as Java/PHP. They encapsulate Go frameworks and libraries, basically revolving around the previous framework design ideas, using OOP to write Go code, which is contrary to the Go language design, and it feels weird. But one thing, programming for work or salary, there is nothing wrong with doing this ğŸ˜‚."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "æ”¾ä¸‹ java æ€æƒ³",
          "en": "Let go of Java thinking."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "gf ä¸è¡Œä¹ˆï¼Ÿ",
          "en": "Isn't gf good?"
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "ä¸è¿‡å°é¡¹ç›®æ ¹æœ¬æ²¡å•¥å¿…è¦çº ç»“é¡¹ç›®ç»“æ„.",
          "en": "But for small projects, there's no need to be too concerned about the project structure."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œé‚£æˆ‘å®‰åˆ©ä¸‹æˆ‘çš„å¼€æºé¡¹ç›®ï¼šhttps://github.com/keepchen/go-sail",
          "en": "If that's the case, then let me recommend my open-source project: https://github.com/keepchen/go-sail"
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "@lesismal ä½ æ˜¯å¯¹çš„ ğŸ‘",
          "en": "@lesismal You are right ğŸ‘"
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "å·¥ç¨‹åŒ–ï¼š https://github.com/golang-standards/project-layoutç„¶åçœ‹çœ‹åˆ«äººé¡¹ç›®ï¼Œhttps://github.com/go-admin-team/go-adminhttps://github.com/GoAdminGroup/go-adminhttps://github.com/flipped-aurora/gin-vue-adminçœ‹æ‡‚äº†ï¼Œä¼šç”¨äº†ï¼Œå°±ä¸€æŠŠæ¢­ã€‚",
          "en": "Engineering: https://github.com/golang-standards/project-layout Then look at other people's projects, https://github.com/go-admin-team/go-admin https://github.com/GoAdminGroup/go-admin https://github.com/flipped-aurora/gin-vue-admin. Once you understand it and know how to use it, just go for it."
        }
      ],
      "type": "replies"
    },
    {
      "chunks": [
        {
          "zh": "å¦‚æœæ˜¯ web åç«¯çš„è¯ï¼Œæˆ‘è‡ªå·±æœ‰æä¸€ä¸ª https://gitea.loveuer.com/loveuer/ultone",
          "en": "If it's a web backend, I have one myself: https://gitea.loveuer.com/loveuer/ultone"
        }
      ],
      "type": "replies"
    }
  ]
}